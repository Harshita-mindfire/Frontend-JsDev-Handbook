<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/Frontend-JsDev-Handbook/favicon.ico"/><title>vector-store</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Knowledge Space"/><meta property="og:title" content="vector-store"/><meta property="og:description" content="Personal Knowledge Space"/><meta property="og:url" content="https://Harshita-mindfire.github.io/Frontend-JsDev-Handbook/notes/g8ci1ind9asxblmph23fcew/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="1/8/2026"/><meta property="article:modified_time" content="1/8/2026"/><link rel="canonical" href="https://Harshita-mindfire.github.io/Frontend-JsDev-Handbook/notes/g8ci1ind9asxblmph23fcew/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/Frontend-JsDev-Handbook/_next/static/css/d70c9756212654c3.css" as="style"/><link rel="stylesheet" href="/Frontend-JsDev-Handbook/_next/static/css/d70c9756212654c3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Frontend-JsDev-Handbook/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/Frontend-JsDev-Handbook/_next/static/chunks/webpack-7ae598a7290a332d.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/chunks/main-99db8cbbcbcf3a6e.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/chunks/pages/_app-e77f8b0286b3a3df.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/wmlPeTCMGkfHIk3kYfq6F/_buildManifest.js" defer=""></script><script src="/Frontend-JsDev-Handbook/_next/static/wmlPeTCMGkfHIk3kYfq6F/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="vector-store">vector-store<a aria-hidden="true" class="anchor-heading icon-link" href="#vector-store"></a></h1>
<h2 id="faiss">FAISS<a aria-hidden="true" class="anchor-heading icon-link" href="#faiss"></a></h2>
<pre class="language-py"><code class="language-py"><span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>document_loaders <span class="token keyword">import</span> TextLoader
<span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>embeddings <span class="token keyword">import</span> OllamaEmbeddings
<span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>vectorstores <span class="token keyword">import</span> FAISS
<span class="token keyword">from</span> langchain_text_splitters <span class="token keyword">import</span> CharacterTextSplitter

<span class="token comment">## loading text</span>
loader<span class="token operator">=</span>TextLoader<span class="token punctuation">(</span><span class="token string">"speech.txt"</span><span class="token punctuation">)</span>
documents<span class="token operator">=</span>loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">## trnsforming into chunks</span>
text_splitter <span class="token operator">=</span> CharacterTextSplitter<span class="token punctuation">(</span>chunk_size<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span>chunk_overlap<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>
docs<span class="token operator">=</span> text_splitter<span class="token punctuation">.</span>split_documents<span class="token punctuation">(</span>documents<span class="token punctuation">)</span>

<span class="token comment">## creating embeddings</span>
embeddings <span class="token operator">=</span> OllamaEmbeddings<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">"mxbai-embed-large"</span><span class="token punctuation">)</span>
<span class="token comment">## storing embeddings into DB</span>
db <span class="token operator">=</span> FAISS<span class="token punctuation">.</span>from_documents<span class="token punctuation">(</span>docs<span class="token punctuation">,</span> embeddings<span class="token punctuation">)</span>

<span class="token comment">## querying the DB</span>
query<span class="token operator">=</span><span class="token string">"How does the speaker describe the desired outcome of the war?"</span>
ans<span class="token operator">=</span>db<span class="token punctuation">.</span>similarity_search<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>page_content
<span class="token comment"># consoles somethig like: 'It will be all the easier for us to conduct ourselves as belligerents in a high spirit of right and fairness because we act without animus, not in enmity toward a people or with the desire to bring any injury or disadvantage upon them, but only in armed opposition to an irresponsible government which has thrown aside all considerations of humanity and of right and is running amuck.'</span>

query_vector<span class="token operator">=</span>embeddings<span class="token punctuation">.</span>embed_query<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
db<span class="token punctuation">.</span>similarity_search_by_vector<span class="token punctuation">(</span>query_vector<span class="token punctuation">)</span>


<span class="token comment">### Retriever</span>
<span class="token comment"># acts as an interface for vector DB. Used with langchain.</span>
retriever<span class="token operator">=</span>db<span class="token punctuation">.</span>as_retriever<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># converting vector db into a retriever. This now can be used by any LLM model in langchain to query our vector DB</span>
docs<span class="token operator">=</span>retriever<span class="token punctuation">.</span>invoke<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
docs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>page_content

<span class="token comment">## save db </span>
db<span class="token punctuation">.</span>save_local<span class="token punctuation">(</span><span class="token string">"faiss_index"</span><span class="token punctuation">)</span> <span class="token comment">#saves into a .pkl file</span>

<span class="token comment">## Load db</span>
new_db <span class="token operator">=</span> FAISS<span class="token punctuation">.</span>load_local<span class="token punctuation">(</span><span class="token string">"faiss_index"</span><span class="token punctuation">,</span> embeddings<span class="token punctuation">,</span> allow_dangerous_deserialization<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
docs<span class="token operator">=</span>new_db<span class="token punctuation">.</span>similarity_search<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
</code></pre>
<h2 id="chroma">Chroma<a aria-hidden="true" class="anchor-heading icon-link" href="#chroma"></a></h2>
<p>Chroma is a AI-native open-source vector database focused on developer productivity and happiness. Chroma is licensed under Apache 2.0.</p>
<p><a href="https://python.langchain.com/v0.2/docs/integrations/vectorstores/">https://python.langchain.com/v0.2/docs/integrations/vectorstores/</a></p>
<pre class="language-py"><code class="language-py">
<span class="token comment">## building a sample vectordb</span>
<span class="token keyword">from</span> langchain_chroma <span class="token keyword">import</span> Chroma
<span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>document_loaders <span class="token keyword">import</span> TextLoader
<span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>embeddings <span class="token keyword">import</span> OllamaEmbeddings
<span class="token keyword">from</span> langchain_text_splitters <span class="token keyword">import</span> RecursiveCharacterTextSplitter

loader <span class="token operator">=</span> TextLoader<span class="token punctuation">(</span><span class="token string">"speech.txt"</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Split</span>
text_splitter <span class="token operator">=</span> RecursiveCharacterTextSplitter<span class="token punctuation">(</span>chunk_size<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span> chunk_overlap<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
splits <span class="token operator">=</span> text_splitter<span class="token punctuation">.</span>split_documents<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

<span class="token comment">#embed</span>
embedding<span class="token operator">=</span>OllamaEmbeddings<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">"mxbai-embed-large"</span><span class="token punctuation">)</span>
vectordb<span class="token operator">=</span>Chroma<span class="token punctuation">.</span>from_documents<span class="token punctuation">(</span>documents<span class="token operator">=</span>splits<span class="token punctuation">,</span>embedding<span class="token operator">=</span>embedding<span class="token punctuation">)</span>

<span class="token comment">## query it</span>
query <span class="token operator">=</span> <span class="token string">"What does the speaker believe is the main reason the United States should enter the war?"</span>
docs <span class="token operator">=</span> vectordb<span class="token punctuation">.</span>similarity_search<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
docs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>page_content

<span class="token comment">## Saving to the disk</span>
vectordb<span class="token operator">=</span>Chroma<span class="token punctuation">.</span>from_documents<span class="token punctuation">(</span>documents<span class="token operator">=</span>splits<span class="token punctuation">,</span>embedding<span class="token operator">=</span>embedding<span class="token punctuation">,</span>persist_directory<span class="token operator">=</span><span class="token string">"./chroma_db"</span><span class="token punctuation">)</span>

<span class="token comment"># load from disk</span>
db2 <span class="token operator">=</span> Chroma<span class="token punctuation">(</span>persist_directory<span class="token operator">=</span><span class="token string">"./chroma_db"</span><span class="token punctuation">,</span> embedding_function<span class="token operator">=</span>embedding<span class="token punctuation">)</span>
docs<span class="token operator">=</span>db2<span class="token punctuation">.</span>similarity_search<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>docs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>page_content<span class="token punctuation">)</span>

<span class="token comment">## similarity Search With Score</span>
docs <span class="token operator">=</span> vectordb<span class="token punctuation">.</span>similarity_search_with_score<span class="token punctuation">(</span>query<span class="token punctuation">)</span>
docs

<span class="token comment">### Retriever option</span>
retriever<span class="token operator">=</span>vectordb<span class="token punctuation">.</span>as_retriever<span class="token punctuation">(</span><span class="token punctuation">)</span>
retriever<span class="token punctuation">.</span>invoke<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>page_content

</code></pre></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#faiss" title="FAISS">FAISS</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#chroma" title="Chroma">Chroma</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"g8ci1ind9asxblmph23fcew","title":"vector-store","desc":"","updated":1767870170462,"created":1767870170462,"custom":{},"fname":"learning.Langchain.4-vector-store","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Harshita-notes","sync":"sync"},"contentHash":"94b3a9639dbb4f9192a1ecac4cbe2c74","links":[],"anchors":{"faiss":{"type":"header","text":"FAISS","value":"faiss","line":8,"column":0,"depth":2},"chroma":{"type":"header","text":"Chroma","value":"chroma","line":52,"column":0,"depth":2}},"children":[],"parent":"oe485i4et1p69145l89f6zi","data":{}},"body":"\u003ch1 id=\"vector-store\"\u003evector-store\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#vector-store\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"faiss\"\u003eFAISS\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#faiss\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-py\"\u003e\u003ccode class=\"language-py\"\u003e\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_community\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edocument_loaders \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e TextLoader\n\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_community\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eembeddings \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e OllamaEmbeddings\n\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_community\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evectorstores \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e FAISS\n\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_text_splitters \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e CharacterTextSplitter\n\n\u003cspan class=\"token comment\"\u003e## loading text\u003c/span\u003e\nloader\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eTextLoader\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"speech.txt\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndocuments\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eloader\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eload\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e## trnsforming into chunks\u003c/span\u003e\ntext_splitter \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e CharacterTextSplitter\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003echunk_size\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003echunk_overlap\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e30\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndocs\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e text_splitter\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esplit_documents\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocuments\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e## creating embeddings\u003c/span\u003e\nembeddings \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e OllamaEmbeddings\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emodel\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"mxbai-embed-large\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e## storing embeddings into DB\u003c/span\u003e\ndb \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e FAISS\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003efrom_documents\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocs\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e embeddings\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e## querying the DB\u003c/span\u003e\nquery\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"How does the speaker describe the desired outcome of the war?\"\u003c/span\u003e\nans\u003cspan class=\"token operator\"\u003e=\u003c/span\u003edb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esimilarity_search\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nans\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage_content\n\u003cspan class=\"token comment\"\u003e# consoles somethig like: 'It will be all the easier for us to conduct ourselves as belligerents in a high spirit of right and fairness because we act without animus, not in enmity toward a people or with the desire to bring any injury or disadvantage upon them, but only in armed opposition to an irresponsible government which has thrown aside all considerations of humanity and of right and is running amuck.'\u003c/span\u003e\n\nquery_vector\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eembeddings\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eembed_query\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esimilarity_search_by_vector\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery_vector\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\n\u003cspan class=\"token comment\"\u003e### Retriever\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# acts as an interface for vector DB. Used with langchain.\u003c/span\u003e\nretriever\u003cspan class=\"token operator\"\u003e=\u003c/span\u003edb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eas_retriever\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e# converting vector db into a retriever. This now can be used by any LLM model in langchain to query our vector DB\u003c/span\u003e\ndocs\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eretriever\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003einvoke\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndocs\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage_content\n\n\u003cspan class=\"token comment\"\u003e## save db \u003c/span\u003e\ndb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esave_local\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"faiss_index\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e#saves into a .pkl file\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e## Load db\u003c/span\u003e\nnew_db \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e FAISS\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eload_local\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"faiss_index\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e embeddings\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e allow_dangerous_deserialization\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token boolean\"\u003eTrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndocs\u003cspan class=\"token operator\"\u003e=\u003c/span\u003enew_db\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esimilarity_search\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"chroma\"\u003eChroma\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#chroma\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eChroma is a AI-native open-source vector database focused on developer productivity and happiness. Chroma is licensed under Apache 2.0.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://python.langchain.com/v0.2/docs/integrations/vectorstores/\"\u003ehttps://python.langchain.com/v0.2/docs/integrations/vectorstores/\u003c/a\u003e\u003c/p\u003e\n\u003cpre class=\"language-py\"\u003e\u003ccode class=\"language-py\"\u003e\n\u003cspan class=\"token comment\"\u003e## building a sample vectordb\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_chroma \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e Chroma\n\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_community\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edocument_loaders \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e TextLoader\n\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_community\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eembeddings \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e OllamaEmbeddings\n\u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e langchain_text_splitters \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e RecursiveCharacterTextSplitter\n\nloader \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e TextLoader\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"speech.txt\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndata \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e loader\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eload\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# Split\u003c/span\u003e\ntext_splitter \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e RecursiveCharacterTextSplitter\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003echunk_size\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e500\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e chunk_overlap\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nsplits \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e text_splitter\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esplit_documents\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e#embed\u003c/span\u003e\nembedding\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eOllamaEmbeddings\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emodel\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"mxbai-embed-large\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nvectordb\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eChroma\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003efrom_documents\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocuments\u003cspan class=\"token operator\"\u003e=\u003c/span\u003esplits\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003eembedding\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eembedding\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e## query it\u003c/span\u003e\nquery \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"What does the speaker believe is the main reason the United States should enter the war?\"\u003c/span\u003e\ndocs \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e vectordb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esimilarity_search\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndocs\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage_content\n\n\u003cspan class=\"token comment\"\u003e## Saving to the disk\u003c/span\u003e\nvectordb\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eChroma\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003efrom_documents\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocuments\u003cspan class=\"token operator\"\u003e=\u003c/span\u003esplits\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003eembedding\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eembedding\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003epersist_directory\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"./chroma_db\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# load from disk\u003c/span\u003e\ndb2 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Chroma\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epersist_directory\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"./chroma_db\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e embedding_function\u003cspan class=\"token operator\"\u003e=\u003c/span\u003eembedding\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndocs\u003cspan class=\"token operator\"\u003e=\u003c/span\u003edb2\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esimilarity_search\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocs\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage_content\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e## similarity Search With Score\u003c/span\u003e\ndocs \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e vectordb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esimilarity_search_with_score\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ndocs\n\n\u003cspan class=\"token comment\"\u003e### Retriever option\u003c/span\u003e\nretriever\u003cspan class=\"token operator\"\u003e=\u003c/span\u003evectordb\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eas_retriever\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nretriever\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003einvoke\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage_content\n\n\u003c/code\u003e\u003c/pre\u003e","noteIndex":{"id":"dlb5bmx7v8f6otsgongz4vx","title":"Hi","desc":"","updated":1663067414354,"created":1648190029829,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Harshita-notes","sync":"sync"},"contentHash":"5e58da66991a53ed4cf17d0cade77fe6","links":[{"type":"wiki","from":{"fname":"root","id":"dlb5bmx7v8f6otsgongz4vx","vaultName":"Harshita-notes"},"value":"user.tharshita13","alias":"@tharshita13","position":{"start":{"line":15,"column":12,"offset":433},"end":{"line":15,"column":24,"offset":445},"indent":[]},"xvault":false,"to":{"fname":"user.tharshita13"}}],"anchors":{"contacts":{"type":"header","text":"Contacts","value":"contacts","line":13,"column":0,"depth":2}},"children":["trkx8xrg7g2fm023ez4ldqj","c8csxid3zoghxorepwcrami","urj8q1uq98o3upmgbt2qxns","ddh1fz3o9jtwlnhx8im7w6n","xjtg1so5cq4qj3qoj1n357g","wcja9b2dozrw97bjfuc1ewj"],"parent":null,"data":{},"body":"\nHi,\nWelcome to Harshita's Digital Garden ðŸŒ±\nI'm Harshita Joshi. I'm a software engineer.\nWhen not at the computer, I play ukulele, do yoga, study [German](https://harshita-mindfire.github.io/german-for-beginners/) and wonder about having numerous pets.\n\n## Contacts\n\nYou can find and contact me in the following places\n\n- Email: tharshita13@gmail.com\n\n- Github: [Harshita-mindfire](https://github.com/Harshita-mindfire)\n\n- Medium: [@tharshita13](https://medium.com/@tharshita13)\n\n- LinkedIn: [Harshita Joshi](https://www.linkedin.com/in/harshita-joshi-030b29118/)\n\n- Instagram: [imharshita07](https://www.instagram.com/imharshita07/)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true,"enableEngineV3":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Harshita-notes","sync":"sync"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Digital Garden","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://Harshita-mindfire.github.io","assetsPrefix":"/Frontend-JsDev-Handbook","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"g8ci1ind9asxblmph23fcew"},"buildId":"wmlPeTCMGkfHIk3kYfq6F","assetPrefix":"/Frontend-JsDev-Handbook","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>