<h1 id="decorartors">Decorartors<a aria-hidden="true" class="anchor-heading icon-link" href="#decorartors"></a></h1>
<ul>
<li>set <code>experimentalDecorators</code>: true in tsconfig.json to use the new decorators.</li>
<li>decorators are called when the class is defined(before initialization of a class).</li>
</ul>
<p>eg:</p>
<pre class="language-ts"><code class="language-ts"><span class="token doc-comment comment">/**  This is a decorator. target receives the constructor of class. */</span>
<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Logger</span></span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token known-class-name class-name">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"logging...."</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Logger</span></span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">=</span><span class="token string">"Max"</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"creating person..."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> pers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="decortor-factory-function">Decortor factory function<a aria-hidden="true" class="anchor-heading icon-link" href="#decortor-factory-function"></a></h3>
<ul>
<li>decorator function that returns a func.
the above example will be modified as:</li>
</ul>
<pre class="language-ts"><code class="language-ts"> <span class="token doc-comment comment">/**  This is a decorator factory. target receives the constructor of class. */</span>
<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Logger</span></span><span class="token punctuation">(</span>arg1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token known-class-name class-name">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Logger</span></span><span class="token punctuation">(</span><span class="token string">"Logging Person"</span><span class="token punctuation">)</span> <span class="token comment">// now we can pass args to decorator</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">=</span><span class="token string">"Max"</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"creating person..."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> pers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="multiple-decorators">Multiple decorators.<a aria-hidden="true" class="anchor-heading icon-link" href="#multiple-decorators"></a></h3>
<ul>
<li>
<p>The creation happens sequentially but the execution happens bottom up.</p>
</li>
<li>
<p>the o/p for below would be </p>
<ul>
<li>LOGGER FACTORY</li>
<li>TEMPLATE FACTORY</li>
<li>Rendering template</li>
<li>Creating person object...</li>
<li>LOGGING</li>
</ul>
</li>
</ul>
<pre class="language-ts"><code class="language-ts">
<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Logger</span></span><span class="token punctuation">(</span>logString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'LOGGER FACTORY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>constructor<span class="token operator">:</span> <span class="token known-class-name class-name">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>logString<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">WithTemplate</span></span><span class="token punctuation">(</span>template<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> hookId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'TEMPLATE FACTORY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>constructor<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Rendering template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> hookEl <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span>hookId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>hookEl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      hookEl<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> template<span class="token punctuation">;</span>
      hookEl<span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token property-access">textContent</span> <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Logger</span></span><span class="token punctuation">(</span><span class="token string">'LOGGING'</span><span class="token punctuation">)</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">WithTemplate</span></span><span class="token punctuation">(</span><span class="token string">'&#x3C;h1>My Person Object&#x3C;/h1>'</span><span class="token punctuation">,</span> <span class="token string">'app'</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">'Max'</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Creating person object...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> pers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>pers<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>