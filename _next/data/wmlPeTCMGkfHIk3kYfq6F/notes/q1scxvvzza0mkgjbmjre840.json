{"pageProps":{"note":{"id":"q1scxvvzza0mkgjbmjre840","title":"LangGraph","desc":"","updated":1771242968440,"created":1771242968440,"custom":{},"fname":"learning.LangGraph","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Harshita-notes","sync":"sync"},"contentHash":"4294e04338dc9dde56d5bf3c1394c28b","links":[],"anchors":{"components":{"type":"header","text":"Components","value":"components","line":10,"column":0,"depth":2},"simple-app":{"type":"header","text":"Simple app","value":"simple-app","line":22,"column":0,"depth":2},"misc":{"type":"header","text":"Misc","value":"misc","line":95,"column":0,"depth":2}},"children":[],"parent":"trkx8xrg7g2fm023ez4ldqj","data":{}},"body":"<h1 id=\"langgraph\">LangGraph<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#langgraph\"></a></h1>\n<ul>\n<li>LangGraph is a low-level orchestration framework and runtime for building, managing, and deploying long-running, stateful agents.</li>\n<li>used to design agents that reliably handle complex tasks</li>\n</ul>\n<h2 id=\"components\">Components<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#components\"></a></h2>\n<ol>\n<li>State</li>\n<li>Node</li>\n<li>Edges</li>\n<li>StateGraph</li>\n</ol>\n<ul>\n<li>In LangGraph, your State is essentially the Global Props of your graph.</li>\n<li>Every \"Node\" (function) in your graph is like a component that receives these State \"Props.\"</li>\n<li>Immutability: Just like you wouldn't directly mutate state in a Redux reducer or a React setState, LangGraph nodes receive the current state, and you return a new object (or a patch) that updates it. But we only send the updated property, the lang graph does the shallow mapping.</li>\n</ul>\n<h2 id=\"simple-app\">Simple app<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#simple-app\"></a></h2>\n<p><img src=\"/Frontend-JsDev-Handbook/assets/images/coder_langgraph.png\" alt=\"Simple code review langgraph\"></p>\n<pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">from</span> langgraph<span class=\"token punctuation\">.</span>graph <span class=\"token keyword\">import</span> StateGraph<span class=\"token punctuation\">,</span> START\n<span class=\"token keyword\">from</span> langchain_groq  <span class=\"token keyword\">import</span> ChatGroq\n<span class=\"token keyword\">from</span> typing <span class=\"token keyword\">import</span> TypedDict<span class=\"token punctuation\">,</span> List<span class=\"token punctuation\">,</span> Literal\n\ncoder_llm <span class=\"token operator\">=</span> ChatGroq<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"llama-3.1-8b-instant\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#1 state(almost similar to interface in .ts)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CodeState</span><span class=\"token punctuation\">(</span>TypedDict<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    feedback<span class=\"token punctuation\">:</span> List<span class=\"token punctuation\">[</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">]</span>\n    is_valid<span class=\"token punctuation\">:</span> <span class=\"token builtin\">bool</span>\n    code<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span>\n\n<span class=\"token comment\">#2 nodes</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">coder_node</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">:</span> CodeState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> state<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"is_valid\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Rewriting the code for feedback\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"print('Hello World')\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"is_valid\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">#First time introducing bug ourselves    </span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"writing code...\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"print('Hello World\"</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">review_node</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">:</span> CodeState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Reviewing code...\"</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">[</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    response <span class=\"token operator\">=</span> coder_llm<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Is this syntax valid? Respond in YES or NO </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>state<span class=\"token punctuation\">[</span><span class=\"token string\">'code'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LLM said\"</span><span class=\"token punctuation\">,</span>response<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span>\n    is_valid <span class=\"token operator\">=</span> <span class=\"token string\">\"YES\"</span> <span class=\"token keyword\">in</span> response<span class=\"token punctuation\">.</span>content\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"is_valid\"</span><span class=\"token punctuation\">:</span> is_valid<span class=\"token punctuation\">}</span> \n\n<span class=\"token comment\">#3. conditional edge</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">check_feedback</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">:</span> CodeState<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> Literal<span class=\"token punctuation\">[</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"__end__\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> state<span class=\"token punctuation\">[</span><span class=\"token string\">\"is_valid\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Review failed! sending back to coder\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"code\"</span>\n    \n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Review passed\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"__end__\"</span>\n\n\n<span class=\"token comment\">#4. Build graph</span>\ngraph <span class=\"token operator\">=</span> StateGraph<span class=\"token punctuation\">(</span>CodeState<span class=\"token punctuation\">)</span>\ngraph<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">,</span> coder_node<span class=\"token punctuation\">)</span>\ngraph<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"review\"</span><span class=\"token punctuation\">,</span> review_node<span class=\"token punctuation\">)</span>\ngraph<span class=\"token punctuation\">.</span>add_conditional_edges<span class=\"token punctuation\">(</span><span class=\"token string\">\"review\"</span><span class=\"token punctuation\">,</span> check_feedback<span class=\"token punctuation\">)</span>\n\ngraph<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span>START<span class=\"token punctuation\">,</span> <span class=\"token string\">\"code\"</span><span class=\"token punctuation\">)</span>\ngraph<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"review\"</span><span class=\"token punctuation\">)</span>\nbuilder_graph <span class=\"token operator\">=</span> graph<span class=\"token punctuation\">.</span><span class=\"token builtin\">compile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\noutput <span class=\"token operator\">=</span> builder_graph<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"feedback\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"is_valid\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<p>After running the output is</p>\n<pre class=\"language-txt\"><code class=\"language-txt\">writing code...\nReviewing code... print('Hello World\nLLM said NO\nReview failed! sending back to coder\nRewriting the code for feedback\nReviewing code... print('Hello World')\nLLM said YES \n\nprint('Hello World')\nReview passed\n</code></pre>\n<p><strong>NOTE</strong>: Notice that nodes only returns {\"is_valid\": ...}. or {\"code\": ...} It doesn't have to return the whole state object. LangGraph automatically merges (shallow merge) the return value into the existing state, similar to how setState works in React.</p>\n<h2 id=\"misc\">Misc<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#misc\"></a></h2>\n<p><strong>TypedDict</strong> is almost identical to a TypeScript interface. It provides structural typing and IDE autocompletion, but it largely disappears at runtime (Python doesn't \"crash\" if you break the rules, much like how transpiled JS doesn't care about your TS interfaces).</p>\n<p><strong>Pydantic</strong> is like using a TypeScript Class with a Validation Library (like Zod or io-ts). It checks the data at runtime and throws an error if the types don't match.</p>\n<p>The \"<strong>Double Underscore</strong>\" Constants: Youâ€™ll see <code>__end__</code> or END. These are built-in markers that tell the graph \"we are done.\"</p>\n<p>In LangGraph, <strong>compile</strong>() validates the graph. It checks if you have any \"dead ends\" (nodes with no edges) or if your conditional logic points to nodes that don't exist. It turns your definition into a Runnable that supports streaming and checkpoints.</p>","noteIndex":{"id":"dlb5bmx7v8f6otsgongz4vx","title":"Hi","desc":"","updated":1663067414354,"created":1648190029829,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Harshita-notes","sync":"sync"},"contentHash":"5e58da66991a53ed4cf17d0cade77fe6","links":[{"type":"wiki","from":{"fname":"root","id":"dlb5bmx7v8f6otsgongz4vx","vaultName":"Harshita-notes"},"value":"user.tharshita13","alias":"@tharshita13","position":{"start":{"line":15,"column":12,"offset":433},"end":{"line":15,"column":24,"offset":445},"indent":[]},"xvault":false,"to":{"fname":"user.tharshita13"}}],"anchors":{"contacts":{"type":"header","text":"Contacts","value":"contacts","line":13,"column":0,"depth":2}},"children":["trkx8xrg7g2fm023ez4ldqj","c8csxid3zoghxorepwcrami","urj8q1uq98o3upmgbt2qxns","ddh1fz3o9jtwlnhx8im7w6n","xjtg1so5cq4qj3qoj1n357g","wcja9b2dozrw97bjfuc1ewj"],"parent":null,"data":{},"body":"\nHi,\nWelcome to Harshita's Digital Garden ðŸŒ±\nI'm Harshita Joshi. I'm a software engineer.\nWhen not at the computer, I play ukulele, do yoga, study [German](https://harshita-mindfire.github.io/german-for-beginners/) and wonder about having numerous pets.\n\n## Contacts\n\nYou can find and contact me in the following places\n\n- Email: tharshita13@gmail.com\n\n- Github: [Harshita-mindfire](https://github.com/Harshita-mindfire)\n\n- Medium: [@tharshita13](https://medium.com/@tharshita13)\n\n- LinkedIn: [Harshita Joshi](https://www.linkedin.com/in/harshita-joshi-030b29118/)\n\n- Instagram: [imharshita07](https://www.instagram.com/imharshita07/)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true,"enableEngineV3":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Harshita-notes","sync":"sync"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Digital Garden","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://Harshita-mindfire.github.io","assetsPrefix":"/Frontend-JsDev-Handbook","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}